<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>HTML Panels Tips: #10 Packaging / ZXP Installers | Davide Barranca &mdash; Photoshop, etc. </title>
    <meta property="og:title" content="HTML Panels Tips: #10 Packaging / ZXP Installers | Davide Barranca &mdash; Photoshop, etc. " />
    <meta name="twitter:title" content="HTML Panels Tips: #10 Packaging / ZXP Installers | Davide Barranca &mdash; Photoshop, etc. " />

    <meta name="description" content="How to build customized ZXP installers for CC HTML Extensions (standard, flash-compatible, hybrid) using ZXPSignCmd, ucf.jar and MXI files.">
    <meta name="description" property="og:description" content="How to build customized ZXP installers for CC HTML Extensions (standard, flash-compatible, hybrid) using ZXPSignCmd, ucf.jar and MXI files." />
    <meta name="twitter:description" content="How to build customized ZXP installers for CC HTML Extensions (standard, flash-compatible, hybrid) using ZXPSignCmd, ucf.jar and MXI files." />

    <meta name="twitter:card" content="summary_large_image" />
    
    <meta name="twitter:site" content="@undavide" />
    
    <meta property="og:url" content="http://localhost:4000/2014/05/html-panels-tips-10-packaging-zxp-installers/" />

    <meta property="og:image" content="" />
    <meta name="twitter:image" content="" />

    <meta name="author" content="Davide Barranca" />

    <meta name="copyright" content="Copyright by Davide Barranca. All Rights Reserved." />

    <style>
        @font-face {
            font-family: 'Roboto';
            font-style: normal;
            font-weight: 300;
            src: local('Roboto Light'), local('Roboto-Light'), url(https://fonts.gstatic.com/s/roboto/v15/Hgo13k-tfSpn0qi1SFdUfVtXRa8TVwTICgirnJhmVJw.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }

        @font-face {
            font-family: 'Roboto';
            font-style: normal;
            font-weight: 400;
            src: local('Roboto'), local('Roboto-Regular'), url(https://fonts.gstatic.com/s/roboto/v15/CWB0XYA8bzo0kSThX0UTuA.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }

        @font-face {
            font-family: 'Roboto';
            font-style: normal;
            font-weight: 700;
            src: local('Roboto Bold'), local('Roboto-Bold'), url(https://fonts.gstatic.com/s/roboto/v15/d-6IYplOFocCacKzxwXSOFtXRa8TVwTICgirnJhmVJw.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }

        @font-face {
            font-family: 'Roboto';
            font-style: normal;
            font-weight: 900;
            src: local('Roboto Black'), local('Roboto-Black'), url(https://fonts.gstatic.com/s/roboto/v15/mnpfi9pxYH-Go5UiibESIltXRa8TVwTICgirnJhmVJw.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }

        @font-face {
            font-family: 'Roboto';
            font-style: italic;
            font-weight: 300;
            src: local('Roboto Light Italic'), local('Roboto-LightItalic'), url(https://fonts.gstatic.com/s/roboto/v15/7m8l7TlFO-S3VkhHuR0at44P5ICox8Kq3LLUNMylGO4.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }

        @font-face {
            font-family: 'Roboto';
            font-style: italic;
            font-weight: 400;
            src: local('Roboto Italic'), local('Roboto-Italic'), url(https://fonts.gstatic.com/s/roboto/v15/vPcynSL0qHq_6dX7lKVByfesZW2xOQ-xsNqO47m55DA.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }

        @font-face {
            font-family: 'Roboto';
            font-style: italic;
            font-weight: 700;
            src: local('Roboto Bold Italic'), local('Roboto-BoldItalic'), url(https://fonts.gstatic.com/s/roboto/v15/t6Nd4cfPRhZP44Q5QAjcC44P5ICox8Kq3LLUNMylGO4.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }

        @font-face {
            font-family: 'Roboto';
            font-style: italic;
            font-weight: 900;
            src: local('Roboto Black Italic'), local('Roboto-BlackItalic'), url(https://fonts.gstatic.com/s/roboto/v15/bmC0pGMXrhphrZJmniIZpY4P5ICox8Kq3LLUNMylGO4.woff2) format('woff2');
            unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215, U+E0FF, U+EFFD, U+F000;
        }
    </style>
    
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    
    <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css">

    <link rel="canonical" href="http://localhost:4000/2014/05/html-panels-tips-10-packaging-zxp-installers/">

    <link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000/feed.xml">

    

    
    <script>
      function UnCryptMailto(s) {
        var n = 0;
        var r = "";
        for (var i = 0; i < s.length; i++) {
          n = s.charCodeAt(i);
          if (n >= 8364) {
            n = 128;
          }
          r += String.fromCharCode(n - 1);
        }
        return r;
      }

      function linkTo_UnCryptMailto(s) {
        location.href = UnCryptMailto(s);
      }
    </script>
    
</head>


    <body>
        <div class="wrapper">
            <aside class="user-profile fixed" role="complementary">
    <div class="burger">
        <input class="trigger hidden" id="toggleBurger" type="checkbox" />
        <label for="toggleBurger">
            <span>Navigation</span>
        </label>
    </div>

    <div class="compact-header">
        <a class="avatar" href="http://localhost:4000"><img alt="Avatar" src="/assets/img/io.jpg" /></a>
        <div class="my-info">
            <strong class="my-name">Davide Barranca</strong>
            <span class="my-job-title">Photoshop, etc.</span>
        </div>
    </div>

    
        
        <div class="mainmenu">
            <a href="http://localhost:4000" >Blog</a>
            
                
            
                
            
                
            
                
                    <a href="http://localhost:4000/courses/" >Courses</a>
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
        </div>
        
    

    <p class="about-me">Digital Caveman. Photoshop retoucher and script/panels developer. I am also an author, check the Courses page!</p>

    <ul class="socials">
        <li><a href="https://www.facebook.com/undavide"><svg title="facebook" width="16" height="16" ><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://localhost:4000/assets/svg/social-icons.svg#facebook-icon"></use></svg></a></li><li><a href="https://twitter.com/undavide"><svg title="twitter" width="16" height="16" ><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://localhost:4000/assets/svg/social-icons.svg#twitter-icon"></use></svg></a></li><li><a href="https://github.com/undavide"><svg title="github" width="16" height="16" ><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://localhost:4000/assets/svg/social-icons.svg#github-icon"></use></svg></a></li>

        
            <!-- WAS: <a href="mailto:davide.barranca@gmail.com">  -->
            <li><a href="javascript:linkTo_UnCryptMailto('nbjmup;ebwjef/cbssbodbAhnbjm/dpn');" title="Drop me an email"><svg title="" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://localhost:4000/assets/svg/social-icons.svg#email-icon"></use></svg></a></li>
        

        
         <li><a href="http://localhost:4000/feed.xml"><svg title="" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://localhost:4000/assets/svg/social-icons.svg#rss-icon"></use></svg></a></li>
        
    </ul>
</aside>


            <main class="the-content" role="main">
                <div class="search" role="search">
    <div>
        <div class="show-results-count">0 Results</div>
        <div class="search-holder">
            <input type="text" id="search-input" placeholder="search for..." />
        </div>
    </div>
    <ul id="results-container" class="results-container"></ul>
</div>


                <article class="post single" role="article" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
        <ul>
            <li><time datetime="2014-05-22T22:33:23+02:00" itemprop="datePublished">22 May, 2014</time></li>
            
                
                <li class="cats">
                    
                        <a href="/categories/CEP/">CEP</a>
                    
                </li>
                
            
        </ul>
        <h2 itemprop="name headline">HTML Panels Tips: #10 Packaging / ZXP Installers</h2>
    </header>

    <div class="post-content">
        <p>While there is a more user friendly app such as <a href="http://blogs.adobe.com/oobe/2014/04/creative-cloud-packager-1-5-is-live.html" title="Adobe Creative Cloud Packager">Adobe Packager</a> which is a great simple app for simple needs, I will show you how to custom build ZXP installers for:</p>

<ol>
  <li><strong>HTML Extensions</strong></li>
  <li>Bundled <strong>Flash + HTML Extensions</strong></li>
  <li><strong>Hybrid Extensions</strong> (Panel + Plug-ins / Assets, etc)</li>
</ol>

<p>using the <code class="highlighter-rouge">ZXPSignCmd</code>, the <code class="highlighter-rouge">ucf.jar</code> command line tools, and custom MXI files. As a primer on Extension installers, you must know that:</p>

<ol>
  <li>in order to deploy your products (either Panels, Scripts but also assets such as Brushes, Textures, etc) you have to build a ZXP package - to be submitted to <a href="https://creative.adobe.com/addons/" title="Adobe Add Ons">Adobe Add-ons</a> (the Adobe Exchange web store) or distributed in other ways.</li>
  <li>ZXP must be signed with either a Paid Certificate (see a list of <a href="https://www.adobeexchange.com/resources/7#signcert" title="Paid Certificates providers">supported providers</a>) or a free, Self-Signed certificate.</li>
  <li>ZXP must be <a href="https://www.eldos.com/security/articles/5731.php?page=all" title="Timestamping FAQ">timestamped</a>. You can avoid it if you plan to sell your own stuff directly, but for some <a href="http://cameronmcefee.com/guideguide-post-mortem-what-i-learned-about-code-signing/" title="Timestamp or not timestamp">good reasons</a> I strongly suggest you to timestamp. A table showing various scenarios is as follows:</li>
</ol>

<p><img src="/wp-content/uploads/2014/05/Signature_timestamp.png" alt="Signature and Timestamping" /></p>

<p>More info and resources links below, so let’s start diving.</p>

<h2 id="1-create-a-certificate">1. Create a Certificate</h2>

<p>First, grab the <a href="http://labs.adobe.com/downloads/extensionbuilder3.html" title="CC Extensions Signing Toolkit">CC Extensions Signing Toolkit</a>, that is to say the <code class="highlighter-rouge">ZXPSignCmd</code> executable file. Myself, I will go with a free, self-signed certificate: Adobe Extension Manager will fire a couple of warning popups, but Adobe Add-ons is perfectly fine with it and won’t complain. So: fire the Terminal (or the Win Command line), get to the directory where you’ve moved the ZXPSignCmd file (if you don’t know how to do this, just type “cd “ - mind you there’s a space - in the terminal and drag and drop the folder, then hit Enter) and create a certificate using this pattern:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">ZXPSignCmd <span class="nt">-selfSignedCert</span> &lt;countryCode&gt; &lt;stateOrProvince&gt; &lt;organization&gt; &lt;commonName&gt; &lt;password&gt; &lt;outputPath.p12&gt;</code></pre></figure>

<p>An actual example with fake data can be:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">./ZXPSignCmd <span class="nt">-selfSignedCert</span> IT BO DBCompany <span class="s2">"Davide Barranca"</span> OcaMorta selfDB.p12</code></pre></figure>

<p>Mind you, <code class="highlighter-rouge">./</code> at the beginning instructs the shell to look for the executable in the current directory. If everything went OK you should find a newly created <code class="highlighter-rouge">selfDB.p12</code>. That’s your self signed cert.</p>

<h2 id="2-pack-and-sign-an-html-extension">2. Pack and Sign an HTML Extension</h2>

<p><img src="/wp-content/uploads/2014/05/HTML.png" alt="HTML" /></p>

<p>Let’s assume the extension you’ve made has the ID <em>com.example.helloworld</em> and it’s contained within a directory named accordingly. Gather together the Extension with the ZXPSignCmd and the selfDB.p12 in one folder, then build the ZXP using this pattern:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">ZXPSignCmd <span class="nt">-sign</span> &lt;inputDirectory&gt; &lt;outputZxp&gt; &lt;p12&gt; &lt;p12Password&gt; <span class="nt">-tsa</span> &lt;timestampURL&gt;</code></pre></figure>

<p>Which in our example (I’ve put a fake password too) translates in:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">./ZXPSignCmd <span class="nt">-sign</span> com.example.helloworld com.example.helloworld.zxp selfDB.p12 OcaMorta <span class="nt">-tsa</span> https://timestamp.geotrust.com/tsa</code></pre></figure>

<p>If everything’s OK you should find a newly created <code class="highlighter-rouge">com.example.helloworld.zxp</code> file. That’s your self signed, timestamped installer; submit it to the Add Ons website and/or privately and enjoy.</p>

<h2 id="3pack-and-sign-html--flash-extensions">3. Pack and Sign HTML + Flash Extensions</h2>

<p>Here comes the fun. I assume you have (for the same product) already coded and packed an HTML version, plus the Flash version, so you have:</p>

<ul>
  <li><code class="highlighter-rouge">com.example.helloworld.zxp</code> (HTML version, packed and signed as shown above)</li>
  <li><code class="highlighter-rouge">com.example.helloworld.zxp</code> (Flash version, packed and signed with Flash Builder 4.5 as we used to do back in the Flex days)</li>
</ul>

<p>Mind you, I use IDs for the ZXP names because in the past Adobe Exchange was a bit picky in that regard - so it’s not just <code class="highlighter-rouge">hello.zxp</code>. I don’t know whether things have changed now, try and let me know.</p>

<p><img src="/wp-content/uploads/2014/05/HTML_Flash_Folders.png" alt="HTML_Flash_Folders" /></p>

<p>Please grab the <a href="http://www.adobe.com/devnet/creativesuite/sdk/eula_cs6-signing-toolkit.html" title="ucf.jar">ucf.jar command line tool</a> and arrange things in the way shown in the screenshot at right. That is to say, put into a folder:</p>

<ol>
  <li>the <code class="highlighter-rouge">selfDB.p12</code></li>
  <li>the <code class="highlighter-rouge">ucf.jar</code></li>
  <li>a 46x46px icon.png (to be used as the icon in Extension Manager)</li>
  <li>a new MXI folder. Inside the MXI there’s:
    <ul>
      <li>an HTML folder containing the HTML panel ZXP installer,</li>
      <li>a FLASH folder containing the Flash panel ZXP installer,</li>
      <li>a MXI file, which I’m going to talk about right now.</li>
    </ul>
  </li>
</ol>

<h3 id="mxi-file">MXI file</h3>

<p>Basically it’s an XML file containing instruction for the files deployment and lots of metadata. Please refer to this <a href="https://helpx.adobe.com/extension-manager/kb/configuration-file-reference.html" title="MXI Reference">Extension Manager CC Configuration File Reference</a> for extra info and best practices. As follows the MXI needed to correctly deploy both Flash and HTML extensions. Mind you, PS CS6 (13.x) and current CC (14.x) are supporting Flash, while HTML is for Photoshop-next (which I assume that is going to be 15).</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;macromedia-extension</span>
  <span class="na">id=</span><span class="s">"com.example.helloworld"</span>
  <span class="na">icon=</span><span class="s">"icon.png"</span>
  <span class="na">name=</span><span class="s">"Hello World"</span>
  <span class="na">requires-restart=</span><span class="s">"true"</span>
  <span class="na">version=</span><span class="s">"1.0.0"</span><span class="nt">&gt;</span>

  <span class="nt">&lt;author</span> <span class="na">name=</span><span class="s">"Davide Barranca"</span><span class="nt">/&gt;</span>

  <span class="nt">&lt;description</span> <span class="na">href=</span><span class="s">"http://www.davidebarranca.com"</span><span class="nt">&gt;</span>
    <span class="cp">&lt;![CDATA[Here goes the extension description]]&gt;</span>
  <span class="nt">&lt;/description&gt;</span>

   <span class="nt">&lt;ui-access&gt;</span>
    <span class="cp">&lt;![CDATA[Here you tell the user where she will find your product (in the Window - Extensions menu, or elsewhere)]]&gt;</span>
  <span class="nt">&lt;/ui-access&gt;</span>

  <span class="nt">&lt;license-agreement&gt;</span>
    <span class="cp">&lt;![CDATA[Here goes the EULA]]&gt;</span>
  <span class="nt">&lt;/license-agreement&gt;</span>

  <span class="nt">&lt;products&gt;</span>
    <span class="nt">&lt;product</span> <span class="na">familyname=</span><span class="s">"Photoshop"</span> <span class="na">version=</span><span class="s">"13"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/products&gt;</span>

  <span class="nt">&lt;files&gt;</span>
    <span class="c">&lt;!-- The HTML panel, for 15.0 onwards --&gt;</span>
    <span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"HTML/com.example.helloworld.zxp"</span>
        <span class="na">destination=</span><span class="s">""</span>
        <span class="na">file-type=</span><span class="s">"CSXS"</span>
        <span class="na">products=</span><span class="s">"Photoshop,Photoshop32,Photoshop64"</span>
        <span class="na">minVersion=</span><span class="s">"15.0"</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- The FLASH panel, for 13.0 to 14.9 --&gt;</span>
    <span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"FLASH/com.example.helloworld.zxp"</span>
        <span class="na">destination=</span><span class="s">""</span>
        <span class="na">file-type=</span><span class="s">"CSXS"</span>
        <span class="na">products=</span><span class="s">"Photoshop,Photoshop32,Photoshop64"</span>
        <span class="na">minVersion=</span><span class="s">"13.0"</span> <span class="na">maxVersion=</span><span class="s">"14.9"</span> <span class="nt">/&gt;</span>

    <span class="c">&lt;!-- Extension Manager icon --&gt;</span>
    <span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"icon.png"</span> <span class="na">destination=</span><span class="s">"$ExtensionSpecificEMStore"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/files&gt;</span>
<span class="nt">&lt;/macromedia-extension&gt;</span></code></pre></figure>

<p>Couple of things to notice:</p>

<ul>
  <li>In the <code class="highlighter-rouge">product</code> tag, the version is actually the minimum version supported.</li>
  <li>When the <code class="highlighter-rouge">file-type="CSXS"</code> there’s no need to specify the destination.</li>
</ul>

<p>Now, fire the Terminal and:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">java <span class="nt">-jar</span> ucf.jar <span class="nt">-package</span> <span class="nt">-storetype</span> PKCS12 <span class="nt">-keystore</span> ./selfDB.p12 <span class="nt">-tsa</span> http://timestamp.entrust.net/TSS/JavaHttpTS com.sample.helloworld.zxp <span class="nt">-C</span> <span class="s2">"./MXI/"</span> .</code></pre></figure>

<p>It will ask you for the p12 password, and eventually the <code class="highlighter-rouge">com.sample.helloworld.zxp</code> file is built. Some other notes:</p>

<ul>
  <li>You might need to download Java from Oracle</li>
  <li>I’ve changed the timestamp url (that’s another option)</li>
  <li>There’s a final dot you have to keep!</li>
</ul>

<p>You may ask why the <code class="highlighter-rouge">ucf.jar</code> and not <code class="highlighter-rouge">ZXPSignCmd</code>: the reason is that, in order to be CS6 compatible, <code class="highlighter-rouge">ucf.jar</code> is the tool of choice.</p>

<h2 id="4-pack-and-sign-hybrid-extensions">4. Pack and Sign Hybrid Extensions</h2>

<p><img src="/wp-content/uploads/2014/05/hybrid.png" alt="Hybrid MXI" /></p>

<p>Hybrid extensions let you install extra content, which can be platform (Mac/Win) and/or version (CS6/CC) and/or bit version (32/64bit) targeted: either Plugins, PDFs, etc. In fact the Flash+HTML extension above qualifies as an Hybrid extension too. In this example I will bundle a lot of extra content - keep in mind that all the paths are relative to the MXI file location. For the completeness sake, I will then use the <code class="highlighter-rouge">ZXPSignCmd</code> since we will pretend that this one is a CC only Extension.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;files&gt;</span>
<span class="c">&lt;!-- The HTML panel, for 15.0 onwards --&gt;</span>
<span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"HTML-cs-extensions/com.example.helloworld.zxp"</span>
      <span class="na">destination=</span><span class="s">""</span>
      <span class="na">file-type=</span><span class="s">"CSXS"</span>
      <span class="na">products=</span><span class="s">"Photoshop,Photoshop32,Photoshop64"</span>
      <span class="na">minVersion=</span><span class="s">"15.0"</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- the entire DOCS/ folder content --&gt;</span>
<span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"DOCS/"</span>
      <span class="na">destination=</span><span class="s">"$userhomefolder/Documents/HelloWorld_DOCS/"</span>
      <span class="na">file-type=</span><span class="s">"ordinary"</span>
      <span class="na">products=</span><span class="s">"Photoshop,Photoshop32,Photoshop64"</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- JSX file goes in the Photoshop/Presets/Scripts folder --&gt;</span>
<span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"SCRIPTS/"</span>
      <span class="na">destination=</span><span class="s">"$scripts/HelloWorldFolder"</span>
      <span class="na">file-type=</span><span class="s">"ordinary"</span>
      <span class="na">products=</span><span class="s">"Photoshop,Photoshop32,Photoshop64"</span> <span class="nt">/&gt;</span>

<span class="c">&lt;!-- MAC plugin --&gt;</span>
<span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"MAC/"</span>
      <span class="na">destination=</span><span class="s">"$pluginsfolder/HelloWorldFolder"</span>
      <span class="na">file-type=</span><span class="s">"ordinary"</span>
      <span class="na">products=</span><span class="s">"Photoshop,Photoshop32,Photoshop64"</span>
      <span class="na">platform=</span><span class="s">"mac"</span><span class="nt">/&gt;</span>

<span class="c">&lt;!-- WIN plugin, 64bit --&gt;</span>
<span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"WIN/"</span>
      <span class="na">destination=</span><span class="s">"$pluginsfolder/HelloWorldFolder"</span>
      <span class="na">file-type=</span><span class="s">"ordinary"</span>
      <span class="na">products=</span><span class="s">"Photoshop,Photoshop64"</span>
      <span class="na">platform=</span><span class="s">"win"</span><span class="nt">/&gt;</span>

<span class="c">&lt;!-- WIN plugin, 32bit --&gt;</span>
<span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"WIN/"</span>
      <span class="na">destination=</span><span class="s">"$pluginsfolder/HelloWorldFolder"</span>
      <span class="na">file-type=</span><span class="s">"ordinary"</span>
      <span class="na">products=</span><span class="s">"Photoshop,Photoshop64"</span>
      <span class="na">platform=</span><span class="s">"win"</span><span class="nt">/&gt;</span>

<span class="c">&lt;!-- Extension Manager icon --&gt;</span>
<span class="nt">&lt;file</span> <span class="na">source=</span><span class="s">"icon.png"</span>
      <span class="na">destination=</span><span class="s">"$ExtensionSpecificEMStore"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/files&gt;</span></code></pre></figure>

<p>Then you have to fire the Terminal and as usual:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">./ZXPSignCmd <span class="nt">-sign</span> MXI com.sample.helloworld.zxp selfDB.p12 OcaMorta <span class="nt">-tsa</span> https://timestamp.geotrust.com/tsa</code></pre></figure>

<p>That should hopefully create a ZXP, deploying:</p>

<ol>
  <li>The HTML Panel</li>
  <li>General assets (in my case a PDF and an HTML file) in a User’s Home subfolder</li>
  <li>C/C++ Plugins (targeting Mac/Win versions, 32 and 64 bits)</li>
  <li>JSX Scripts in the Photoshop CC/Presets/Scripts custom named subfolder</li>
</ol>

<p>Please refer to <a href="https://helpx.adobe.com/extension-manager/kb/path-tokens-extension-manager.html" title="Path Tokens">this page</a> for a description of General and Product Specific Path Tokens.</p>

<h2 id="resources">Resources</h2>

<p>This brief guide is far from being exhaustive - I’ve only described things that I know first hand. For a better understanding of the topic, please refer to the following official documentation:</p>

<ul>
  <li><a href="http://labs.adobe.com/downloads/extensionbuilder3.html" title="ZXPSignCmd download">ZXPSignCmd</a> download</li>
  <li>ZXPSignCmd - <a href="http://download.macromedia.com/pub/labs/extensionbuilder3/ccextensions.pdf" title="ZXPSignCmd Instruction">Instruction</a></li>
  <li>ZXPSignCmd - <a href="http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/creativesuite/pdfs/SigningTechNote_CC.pdf" title="ZXPSignCmd Tech Note">Packaging and Signing Technical Note</a></li>
  <li><a href="http://www.adobe.com/devnet/creativesuite/sdk/eula_cs6-signing-toolkit.html" title="ucf.jar download">ucf.jar</a> download</li>
  <li>ucf.jar - <a href="https://www.adobeexchange.com/resources/7#packman" title="ucf.jar">Packaging instructions</a></li>
  <li>ucf.jar - <a href="http://wwwimages.adobe.com/content/dam/Adobe/en/devnet/creativesuite/pdfs/CS_SDK_Guide.pdf" title="ucf.jar tech note">Technical Note</a> (see from pag. 23 onwards)</li>
  <li><a href="https://helpx.adobe.com/extension-manager/kb/configuration-file-reference.html" title="MXI Reference">MXI Reference</a> (with path tokens, etc)</li>
  <li><a href="https://www.adobeexchange.com/resources/7#eula" title="EULA">EULA Template</a></li>
</ul>

<hr />

<h3 id="the-photoshop-html-panels-development-course">The Photoshop HTML Panels Development Course</h3>

<figure class="alignleft">
  <a href="https://htmlpanelsbook.com" target="_blank">
	<img src="/wp-content/uploads/2016/03/BookVideo.jpg" alt="Photoshop HTML Panels Development course" /></a>
	<figcaption>Updated to CC 2019.</figcaption>
</figure>

<p>If you’re reading here, you might be interested in my Photoshop Panels development – so let me inform you that I’ve authored a full course:</p>

<ul>
  <li><strong>300 pages</strong> PDF</li>
  <li><strong>3 hours</strong> of HD screencasts</li>
  <li><strong>28 custom Panels</strong> with commented code</li>
</ul>

<p><a href="http://htmlpanelsbook.com">Check it out!</a> Please help me spread the news – I’ll be able to keep producing more exclusive content on this blog. Thank you!</p>


    </div>

    <footer class="post-footer">
        <div class="share">Share
            <ul class="social-networks">
                <li class="share-facebook"><a href="https://www.facebook.com/sharer.php?s=100&p[title]=HTML Panels Tips: #10 Packaging / ZXP Installers&p[summary]=While there is a more user friendly app such as Adobe Packager which is a great simple app for simple needs, I will show you how to custo...&p[url]=http://localhost:4000/2014/05/html-panels-tips-10-packaging-zxp-installers/" class="s_facebook" target="_blank" onclick="window.open(this.href, '','width=700,height=300');return false;"><svg title="" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://localhost:4000/assets/svg/social-icons.svg#facebook-icon"></use></svg></a></li>
                <li class="share-twitter"><a href="http://twitter.com/share?url=http://localhost:4000/2014/05/html-panels-tips-10-packaging-zxp-installers/&text=While there is a more user friendly app such as Adobe Packager which is a great simple app for simple needs, I will show you how to custo...&hashtags=HTML Panels Tips," rel="noreferrer" target="_blank" onclick="window.open(this.href, '','width=700,height=300');return false;"><svg title="" width="16" height="16"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://localhost:4000/assets/svg/social-icons.svg#twitter-icon"></use></svg></a></li>
            </ul>
        </div>
        
        <div class="tags">
            <ul>
                
                <li><a href="http://localhost:4000/tag/HTML Panels Tips">HTML Panels Tips</a></li>
                
            </ul>
        </div>
        
    </footer>
</article>


<aside class="comments" role="complementary">
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function () {
            this.page.url = 'http://localhost:4000/2014/05/html-panels-tips-10-packaging-zxp-installers/';
            this.page.identifier = '5/22/2014';
        };
        (function() {
            var d = document, s = d.createElement('script');

            s.src = '//davidebarranca.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
</aside>


            </main>
        </div>

        <script src="http://localhost:4000/assets/js/jquery-1.12.2.min.js"></script>
<script src="http://localhost:4000/assets/js/backtotop.js"></script>
<script src="http://localhost:4000/assets/js/lunr.min.js"></script>
<script src="http://localhost:4000/assets/js/lunr-feed.js"></script>
<script src="http://localhost:4000/assets/js/jquery.fitvids.js"></script>
<script src="http://localhost:4000/assets/js/svg4everybody.min.js"></script>
<script src="http://localhost:4000/assets/js/scripts.js"></script>


    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-25716894-1', 'auto');
        ga('send', 'pageview');
    </script>

    </body>
</html>