(function(d){d.fn.twentytwenty=function(f){f=d.extend({default_offset_pct:0.5,orientation:"horizontal"},f);return this.each(function(){var c=f.default_offset_pct,b=d(this),e=f.orientation,p="vertical"===e?"down":"left",q="vertical"===e?"up":"right";b.wrap("<div class='twentytwenty-wrapper twentytwenty-"+e+"'></div>");b.append("<div class='twentytwenty-overlay'></div>");var g=b.find("img:first"),r=b.find("img:last");b.append("<div class='twentytwenty-handle'></div>");var h=b.find(".twentytwenty-handle");
h.append("<span class='twentytwenty-"+p+"-arrow'></span>");h.append("<span class='twentytwenty-"+q+"-arrow'></span>");b.addClass("twentytwenty-container");g.addClass("twentytwenty-before");r.addClass("twentytwenty-after");b.find(".twentytwenty-overlay");var l=function(a){var c,d,k;k=g.width();var f=g.height();c=k+"px";d=f+"px";k=a*k+"px";a=a*f+"px";h.css("vertical"===e?"top":"left","vertical"===e?a:k);"vertical"===e?g.css("clip","rect(0,"+c+","+a+",0)"):g.css("clip","rect(0,"+k+","+d+",0)");b.css("height",
d)};d(window).on("resize.twentytwenty",function(a){l(c)});var m=0,n=0;h.on("movestart",function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>-a.distY)&&"vertical"!==e?a.preventDefault():(a.distX<a.distY&&a.distX<-a.distY||a.distX>a.distY&&a.distX>-a.distY)&&"vertical"===e&&a.preventDefault();b.addClass("active");m=b.offset().left;offsetY=b.offset().top;n=g.width();imgHeight=g.height()});h.on("moveend",function(a){b.removeClass("active")});h.on("move",function(a){b.hasClass("active")&&
(c="vertical"===e?(a.pageY-offsetY)/imgHeight:(a.pageX-m)/n,0>c&&(c=0),1<c&&(c=1),l(c))});b.find("img").on("mousedown",function(a){a.preventDefault()});d(window).trigger("resize.twentytwenty")})}})(jQuery);